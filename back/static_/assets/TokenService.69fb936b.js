import{a as o}from"./index.2cf0d985.js";import{X as r}from"./index.d72547a9.js";const n=r("auth",{state:()=>({is_staff:0,login:!1}),actions:{set_user(s){this.is_staff=s,this.login=!0},redirect_to_login(){this.router.push({name:"Login"})}}});let i="/api/";class l{sendAuth(e){return o.post(i+"token/",e).then(t=>{let a={token:t.data.access,refresh:t.data.refresh,is_staff:t.data.is_staff};return localStorage.setItem("tokens",JSON.stringify(a)),n().set_user(a.is_staff),t})}getLocalAccessToken(){let e=JSON.parse(localStorage.getItem("tokens"));return e==null?void 0:e.token}getLocalRefreshToken(){let e=JSON.parse(localStorage.getItem("tokens"));return e==null?void 0:e.refresh}updateLocalAccessToken(e){let t=JSON.parse(localStorage.getItem("tokens"));t.token=e,localStorage.setItem("tokens",JSON.stringify(t))}removeUser(){localStorage.removeItem("tokens")}}var u=new l;export{u as T,n as u};
