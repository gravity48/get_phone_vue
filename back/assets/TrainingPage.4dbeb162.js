import{i as _}from"./api.6ecfec2e.js";import{_ as y,Y as j,e as c,f as m,C as t,G as b,F as P,i as $,v as x,y as U,B as v,V as k,W as S,x as L,K as u,U as f,g as E,ah as V,j as M,I as B,L as N}from"./index.8f2b4bb4.js";import"./index.2cf0d985.js";import"./TokenService.35ceee12.js";let T="extract_entity_proj",F="retrain_proj";class q{addProject(e){return _.post("proj_settings_list/",e)}getProjects(){return _.get("proj_settings_list/")}getRetrieveProj(e){return _.get("proj_settings_list/"+e+"/")}partialUpdateProj(e,l){return _.patch("proj_settings_list/"+e+"/",{options:l})}getDocExtensions(){return _.get("extensions/")}removeProj(e){return _.delete("proj_settings_list/"+e+"/")}getDocStatus(){return _.get("doc_status/")}updateExtractEntity(e){return _.patch("proj_settings/",{options:e},{params:{proj:T}})}updateRetrainProj(e){return _.patch("proj_settings/",{options:e},{params:{proj:F}})}startProject(e){return e.action="start_proj",_.post("proj_control/",e)}statusProject(e){return e.action="status_proj",_.post("proj_control/",e)}stopProject(e){return e.action="stop_proj",_.post("proj_control/",e)}}var d=new q;class z{getSubdir(e){return _.post("directories/",e,{params:{action:"get_sub_dir"}})}getRootDirectory(){return _.post("directories/",{},{params:{action:"get_root_dir"}})}}var D=new z;const H={name:"recursiveComponent",props:["item"],emits:["update:select-value"],data(){return{expanded:!1,preloader_show:!1,selected:!1,empty:!1}},methods:{async getSubDir(s){this.$emit("update:select-value",s),this.expanded=!this.expanded,s.sub_folders===null&&(this.preloader_show=!0,await D.getSubdir({folder:s.path}).then(e=>{s.sub_folders=e.data,s.sub_folders.length===0&&(this.empty=!0)}),this.preloader_show=!1)},recursiveEmit(s){this.$emit("update:select-value",s)}}},K=["data-path"],O={class:"sublist"};function Z(s,e,l,w,o,r){const h=j("recursiveComponent",!0);return c(),m("li",{class:U(["recursive-li-item",{expanded:o.expanded,loading:o.preloader_show,selected:l.item.selected,empty:o.empty}]),onClick:e[1]||(e[1]=v(n=>r.getSubDir(l.item),["stop","prevent"])),"data-path":l.item.path},[t("span",null,b(l.item.name),1),t("ul",O,[(c(!0),m(P,null,$(l.item.sub_folders,(n,i)=>(c(),x(h,{"onUpdate:selectValue":e[0]||(e[0]=g=>r.recursiveEmit(g)),key:i,item:n},null,8,["item"]))),128))])],10,K)}var G=y(H,[["render",Z]]);const W={name:"FileManager",emits:["close:popup","update:value"],components:{recursiveComponent:G},data(){return{root_dirs:[],selected_item:{}}},mounted(){this.getRootDir()},methods:{closePopup(){this.$emit("close:popup")},getRootDir(){D.getRootDirectory().then(s=>{this.root_dirs=s.data})},recursiveEmit(s){this.selected_item.selected=!1,this.selected_item=s,this.selected_item.selected=!0},updateModelValue(){this.selected_item.path&&(this.$emit("update:value",this.selected_item.path),this.closePopup())}}},I=s=>(k("data-v-43dec056"),s=s(),S(),s),Y={class:"popup-content--header"},A=I(()=>t("p",null,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0430\u043F\u043A\u0443",-1)),J={class:"folder-tree"},Q=I(()=>t("div",{class:"loader hidden"},[t("div")],-1)),X={class:"folder-tree--panel"},tt={class:"popup-content--buttons"};function et(s,e,l,w,o,r){const h=j("recursive-component");return c(),m("div",{class:"popup-overlay",id:"folder-pickup",onClick:e[4]||(e[4]=v((...n)=>r.closePopup&&r.closePopup(...n),["stop"]))},[t("div",{class:"popup-content",onClick:e[3]||(e[3]=v(()=>{},["stop"]))},[t("div",null,[t("div",Y,[A,t("button",{type:"button",class:"close-button",title:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",onClick:e[0]||(e[0]=(...n)=>r.closePopup&&r.closePopup(...n))})]),t("div",J,[Q,t("div",X,[t("ul",null,[(c(!0),m(P,null,$(this.root_dirs,(n,i)=>(c(),x(h,{item:n,key:i,"onUpdate:selectValue":e[1]||(e[1]=g=>r.recursiveEmit(g))},null,8,["item"]))),128))])])]),t("div",tt,[t("button",{type:"button",onClick:e[2]||(e[2]=(...n)=>r.updateModelValue&&r.updateModelValue(...n))},"OK")])])])])}var st=y(W,[["render",et],["__scopeId","data-v-43dec056"]]);const ot={name:"NamedEntities",components:{FileManager:st},props:{proj_id:Number},emits:["remove:proj"],data(){return{file_manager_show:!1,doc_extensions:[],extract_proj:{options:{}},field_translation:{all:"\u0421\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u0435 \u043A \u0431\u0430\u0437\u0435 \u0434\u0430\u043D\u043D\u044B\u0445",extract_entity_proj:"\u0418\u0437\u0432\u043B\u0435\u0447\u0435\u043D\u0438\u0435 \u0438\u043C\u0435\u043D\u043D\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u0441\u0443\u0449\u043D\u043E\u0441\u0442\u0435\u0439"}}},mounted(){this.getInitData(),setInterval(this.StatusProject,2e3)},methods:{toggle_panel(s){let e=s.target.closest(".panel").querySelector(".panel-ico"),l=s.target.closest(".panel").querySelector(".panel-content");e.classList.contains("rotate-180")?(e.classList.remove("rotate-180"),l.classList.add("hide"),setTimeout(()=>{l.classList.remove("visible")},100)):(l.classList.remove("hide"),e.classList.add("rotate-180"),l.classList.add("visible"))},StartProject(s){d.startProject(s).then(e=>{s.is_start=!0,this.$notify({type:"success",title:this.field_translation[s.proj_type],text:"\u0417\u0430\u043F\u0443\u0449\u0435\u043D",duration:5e3})})},StatusProject(){this.extract_proj.is_start&&d.statusProject(this.extract_proj).then(s=>{this.extract_proj.status=s.data.status})},StopProject(s){d.stopProject(s).then(e=>{s.is_start=!1,s.status=e.data.status})},getInitData(){d.getRetrieveProj(this.proj_id).then(s=>{this.extract_proj=s.data}),d.getDocExtensions().then(s=>{this.doc_extensions=s.data})},updateExtractEntity(s){d.partialUpdateProj(this.proj_id,s)}},watch:{"extract_proj.options":{handler(s,e){this.updateExtractEntity(s)},deep:!0}}},a=s=>(k("data-v-f8b03a66"),s=s(),S(),s),it={class:"panel"},nt=a(()=>t("p",null,"\u0418\u0437\u0432\u043B\u0435\u0447\u0435\u043D\u0438\u0435 \u0438\u043C\u0435\u043D\u043D\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u0441\u0443\u0449\u043D\u043E\u0441\u0442\u0435\u0439",-1)),rt=a(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-chevron-down",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"})],-1)),lt=[rt],at={class:"panel-content"},pt={class:"delete-projects-div"},dt=a(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[t("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"})],-1)),_t=[dt],ct={class:"column"},ut={class:"input-group"},vt=a(()=>t("label",{for:"dest_folder"},"\u041F\u0430\u043F\u043A\u0430 \u0434\u043B\u044F \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0438",-1)),ht=a(()=>t("p",null,"\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u043D\u0430\u0447\u0438\u043D\u0430\u0435\u0442\u0441\u044F \u0441 /mnt/",-1)),mt={class:"custom-input"},jt=a(()=>t("span",{class:"input-border"},null,-1)),gt=a(()=>t("div",{class:"input-error"},null,-1)),ft={class:"input-group"},bt=a(()=>t("label",{for:"doc_extension"},"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u0438\u0435 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u043E\u0432",-1)),xt=a(()=>t("p",null,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u0438\u044F \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u043E\u0432 \u0438\u0437 \u0441\u043F\u0438\u0441\u043A\u0430 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0445",-1)),yt=a(()=>t("div",{class:"input-error"},null,-1)),wt={class:"column"},Pt={class:"input-group"},kt=a(()=>t("label",{for:"proj-alias"},"\u0418\u043C\u044F \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0447\u0438\u043A\u0430",-1)),St=a(()=>t("p",null,"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u0442\u0441\u044F \u0434\u043B\u044F \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u043B\u043E\u0433-\u0444\u0430\u0439\u043B\u0430",-1)),Ct={class:"custom-input"},Lt=a(()=>t("span",{class:"input-border"},null,-1)),Vt=a(()=>t("div",{class:"input-error"},null,-1)),$t={class:"input-group"},Et=a(()=>t("label",{for:"extract_process_count"},"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043F\u0440\u043E\u0446\u0435\u0441\u0441\u043E\u0432",-1)),Dt=a(()=>t("p",null,"\u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u0447\u0438\u0441\u043B\u043E \u043F\u0440\u043E\u0446\u0435\u0441\u0441\u043E\u0432 \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0431\u0443\u0434\u0443\u0442 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C\u0441\u044F \u043F\u0440\u0438 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0435",-1)),It={class:"custom-input"},Rt=["disabled"],Ut=a(()=>t("span",{class:"input-border"},null,-1)),Mt=a(()=>t("div",{class:"input-error"},null,-1)),Bt={class:"column-fill"},Nt={class:"additional-options"},Tt=a(()=>t("div",{class:"additional-header"},"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u043E\u043F\u0446\u0438\u0438",-1)),Ft={class:"checkbox-group"},qt=a(()=>t("label",{for:"check-only-new"},"\u0414\u043E\u0431\u0430\u0432\u043B\u044F\u0442\u044C \u0442\u043E\u043B\u044C\u043A\u043E \u043D\u043E\u0432\u044B\u0435 \u0444\u0430\u0439\u043B\u044B",-1)),zt={class:"checkbox-group"},Ht=a(()=>t("label",{for:"check-raw-data"},"\u0417\u0430\u043D\u043E\u0441\u0438\u0442\u044C \u0441\u0432\u0435\u0434\u0435\u043D\u0438\u044F \u0431\u0430\u0437\u0443 \u0434\u0430\u043D\u043D\u044B\u0445 \u0431\u0435\u0437 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0438",-1)),Kt={class:"program-control"},Ot=["disabled"],Zt=["disabled"];function Gt(s,e,l,w,o,r){const h=j("FileManager"),n=j("v-select");return c(),m("div",it,[t("div",{class:"panel-header",onClick:e[1]||(e[1]=v((...i)=>r.toggle_panel&&r.toggle_panel(...i),["prevent"]))},[nt,t("button",{class:"panel-ico",onClick:e[0]||(e[0]=v((...i)=>r.toggle_panel&&r.toggle_panel(...i),["stop"]))},lt),t("p",null,b(this.proj_id),1)]),t("div",at,[t("div",pt,[t("button",{type:"button",onClick:e[2]||(e[2]=i=>this.$emit("remove:proj"))},_t)]),t("div",ct,[t("div",ut,[vt,ht,t("div",mt,[o.file_manager_show?(c(),x(h,{key:0,"onClose:popup":e[3]||(e[3]=()=>{this.file_manager_show=!1}),"onUpdate:value":e[4]||(e[4]=i=>{o.extract_proj.options.folder=i})})):L("",!0),u(t("input",{type:"text",id:"dest_folder","onUpdate:modelValue":e[5]||(e[5]=i=>o.extract_proj.options.folder=i),onClick:e[6]||(e[6]=i=>o.file_manager_show=!o.file_manager_show),readonly:""},null,512),[[f,o.extract_proj.options.folder]]),jt]),gt]),t("div",ft,[bt,xt,E(n,{multiple:"",label:"extension",options:o.doc_extensions,modelValue:o.extract_proj.options.doc_extension,"onUpdate:modelValue":e[7]||(e[7]=i=>o.extract_proj.options.doc_extension=i)},null,8,["options","modelValue"]),yt])]),t("div",wt,[t("div",Pt,[kt,St,t("div",Ct,[u(t("input",{type:"text",id:"proj-alias","onUpdate:modelValue":e[8]||(e[8]=i=>o.extract_proj.options.alias=i)},null,512),[[f,o.extract_proj.options.alias]]),Lt]),Vt]),t("div",$t,[Et,Dt,t("div",It,[u(t("input",{type:"number",id:"extract_process_count","onUpdate:modelValue":e[9]||(e[9]=i=>o.extract_proj.options.process_count=i),disabled:o.extract_proj.options.raw_data},null,8,Rt),[[f,o.extract_proj.options.process_count]]),Ut]),Mt])]),t("div",Bt,[t("div",Nt,[Tt,t("div",Ft,[u(t("input",{class:"check-box-input",id:"check-only-new",type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=i=>o.extract_proj.options.only_new_files=i)},null,512),[[V,o.extract_proj.options.only_new_files]]),qt]),t("div",zt,[u(t("input",{class:"check-box-input",id:"check-raw-data",type:"checkbox","onUpdate:modelValue":e[11]||(e[11]=i=>o.extract_proj.options.raw_data=i)},null,512),[[V,o.extract_proj.options.raw_data]]),Ht])]),t("div",Kt,[t("button",{class:"play-btn",disabled:o.extract_proj.is_start,onClick:e[12]||(e[12]=i=>r.StartProject(o.extract_proj))},"\u0421\u0442\u0430\u0440\u0442 ",8,Ot),t("button",{class:"stop-btn",disabled:!o.extract_proj.is_start,onClick:e[13]||(e[13]=i=>r.StopProject(o.extract_proj))},"\u0421\u0442\u043E\u043F ",8,Zt)]),t("div",{class:"wrapper",onClick:e[14]||(e[14]=(...i)=>r.StatusProject&&r.StatusProject(...i))},[t("p",null,b(o.extract_proj.status),1)])])])])}var Wt=y(ot,[["render",Gt],["__scopeId","data-v-f8b03a66"]]);const Yt={name:"RetrainEntities",data(){return{doc_status:[],retrain_proj:{options:{}},field_translation:{all:"\u0421\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u0435 \u043A \u0431\u0430\u0437\u0435 \u0434\u0430\u043D\u043D\u044B\u0445",extract_entity_proj:"\u0418\u0437\u0432\u043B\u0435\u0447\u0435\u043D\u0438\u0435 \u0438\u043C\u0435\u043D\u043D\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u0441\u0443\u0449\u043D\u043E\u0441\u0442\u0435\u0439",retrain_proj:"\u041F\u0435\u0440\u0435\u043E\u0431\u0443\u0447\u0435\u043D\u0438\u0435 \u0432\u044B\u0431\u043E\u0440\u043A\u0438"}}},props:{proj_id:Number},emits:["remove:proj"],mounted(){this.getInitData(),setInterval(this.StatusProject,2e3)},methods:{toggle_panel(s){let e=s.target.closest(".panel").querySelector(".panel-ico"),l=s.target.closest(".panel").querySelector(".panel-content");e.classList.contains("rotate-180")?(e.classList.remove("rotate-180"),l.classList.add("hide"),setTimeout(()=>{l.classList.remove("visible")},100)):(l.classList.remove("hide"),e.classList.add("rotate-180"),l.classList.add("visible"))},StartProject(s){d.startProject(s).then(e=>{s.is_start=!0,this.$notify({type:"success",title:this.field_translation[s.proj_type],text:"\u0417\u0430\u043F\u0443\u0449\u0435\u043D",duration:5e3})})},StatusProject(){this.retrain_proj.is_start&&d.statusProject(this.retrain_proj).then(s=>{this.retrain_proj.status=s.data.status})},StopProject(s){d.stopProject(s).then(e=>{s.is_start=!1,s.status=e.data.status})},getInitData(){d.getRetrieveProj(this.proj_id).then(s=>{this.retrain_proj=s.data}),d.getDocStatus().then(s=>{this.doc_status=s.data})},updateRetrainProj(s){d.partialUpdateProj(this.proj_id,s)}},watch:{"retrain_proj.options":{handler(s,e){this.updateRetrainProj(s)},deep:!0}}},p=s=>(k("data-v-81dfe030"),s=s(),S(),s),At={class:"panel"},Jt=p(()=>t("p",null,"\u041F\u0435\u0440\u0435\u043E\u0431\u0443\u0447\u0435\u043D\u0438\u0435 \u0432\u044B\u0431\u043E\u0440\u043A\u0438",-1)),Qt=p(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-chevron-down",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"})],-1)),Xt=[Qt],te={class:"panel-content"},ee={class:"delete-projects-div"},se=p(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[t("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"})],-1)),oe=[se],ie={class:"column"},ne={class:"input-group"},re=p(()=>t("label",{for:"doc_status"},"\u0421\u0442\u0430\u0442\u0443\u0441 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u043E\u0432",-1)),le=p(()=>t("p",null,"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0432 \u0441\u043B\u0443\u0447\u0430\u0435 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E\u0441\u0442\u0438 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u044B \u043F\u043E \u0438\u0445 \u0441\u0442\u0430\u0442\u0443\u0441\u0443",-1)),ae=p(()=>t("div",{class:"input-error"},null,-1)),pe={class:"input-group"},de=p(()=>t("label",{for:"record_id"},"ID \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430 \u0432 \u0411\u0414",-1)),_e=p(()=>t("p",null,"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 id \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430 \u0447\u0442\u043E\u0431\u044B \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C \u0432 \u0441\u043B\u0443\u0447\u0430\u0435 \u0441\u0431\u043E\u044F",-1)),ce={class:"custom-input"},ue=p(()=>t("span",{class:"input-border"},null,-1)),ve=p(()=>t("div",{class:"input-error"},null,-1)),he={class:"column"},me={class:"input-group"},je=p(()=>t("label",{for:"alias-retrain"},"\u0418\u043C\u044F \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0447\u0438\u043A\u0430",-1)),ge=p(()=>t("p",null,"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u0442\u0441\u044F \u0434\u043B\u044F \u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F \u043B\u043E\u0433 \u0444\u0430\u0439\u043B\u043E\u0432",-1)),fe={class:"custom-input"},be=p(()=>t("span",{class:"input-border"},null,-1)),xe=p(()=>t("div",{class:"input-error"},null,-1)),ye={class:"input-group"},we=p(()=>t("label",{for:"process_count"},"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043F\u0440\u043E\u0446\u0435\u0441\u0441\u043E\u0432",-1)),Pe=p(()=>t("p",null,"\u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u0447\u0438\u0441\u043B\u043E \u043F\u0440\u043E\u0446\u0435\u0441\u0441\u043E\u0432 \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0431\u0443\u0434\u0443\u0442 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C\u0441\u044F \u043F\u0440\u0438 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0435",-1)),ke={class:"custom-input"},Se=p(()=>t("span",{class:"input-border"},null,-1)),Ce=p(()=>t("div",{class:"input-error"},null,-1)),Le={class:"column-fill"},Ve={class:"additional-options"},$e=p(()=>t("div",{class:"additional-header"},"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u043E\u043F\u0446\u0438\u0438",-1)),Ee={class:"checkbox-group"},De=p(()=>t("label",{for:"delete-old-files"},"\u0423\u0434\u0430\u043B\u044F\u0442\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043D\u044B\u0435 \u0444\u0430\u0439\u043B\u044B",-1)),Ie={class:"program-control"},Re=["disabled"],Ue=["disabled"];function Me(s,e,l,w,o,r){const h=j("v-select");return c(),m("div",At,[t("div",{class:"panel-header",onClick:e[1]||(e[1]=v((...n)=>r.toggle_panel&&r.toggle_panel(...n),["prevent"]))},[Jt,t("button",{class:"panel-ico",onClick:e[0]||(e[0]=v((...n)=>r.toggle_panel&&r.toggle_panel(...n),["stop"]))},Xt),t("p",null,b(l.proj_id),1)]),t("div",te,[t("div",ee,[t("button",{type:"button",onClick:e[2]||(e[2]=n=>this.$emit("remove:proj"))},oe)]),t("div",ie,[t("div",ne,[re,le,E(h,{multiple:"",label:"status_name",options:o.doc_status,modelValue:o.retrain_proj.options.status,"onUpdate:modelValue":e[3]||(e[3]=n=>o.retrain_proj.options.status=n)},null,8,["options","modelValue"]),ae]),t("div",pe,[de,_e,t("div",ce,[u(t("input",{type:"number",id:"record_id","onUpdate:modelValue":e[4]||(e[4]=n=>o.retrain_proj.options.record_id=n)},null,512),[[f,o.retrain_proj.options.record_id]]),ue]),ve])]),t("div",he,[t("div",me,[je,ge,t("div",fe,[u(t("input",{type:"text",id:"alias-retrain","onUpdate:modelValue":e[5]||(e[5]=n=>o.retrain_proj.options.alias=n)},null,512),[[f,o.retrain_proj.options.alias]]),be]),xe]),t("div",ye,[we,Pe,t("div",ke,[u(t("input",{type:"number",id:"process_count","onUpdate:modelValue":e[6]||(e[6]=n=>o.retrain_proj.options.process_count=n)},null,512),[[f,o.retrain_proj.options.process_count]]),Se]),Ce])]),t("div",Le,[t("div",Ve,[$e,t("div",Ee,[u(t("input",{class:"check-box-input",id:"delete-old-files",type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=n=>o.retrain_proj.options.delete_not_found=n)},null,512),[[V,o.retrain_proj.options.delete_not_found]]),De])]),t("div",Ie,[t("button",{class:"play-btn",disabled:o.retrain_proj.is_start,onClick:e[8]||(e[8]=v(n=>r.StartProject(o.retrain_proj),["stop"]))},"\u0421\u0442\u0430\u0440\u0442 ",8,Re),t("button",{class:"stop-btn",disabled:!o.retrain_proj.is_start,onClick:e[9]||(e[9]=v(n=>r.StopProject(o.retrain_proj),["stop"]))},"\u0421\u0442\u043E\u043F",8,Ue)]),t("div",{class:"wrapper",onClick:e[10]||(e[10]=(...n)=>r.StatusProject&&r.StatusProject(...n))},[t("p",null,b(o.retrain_proj.status),1)])])])])}var Be=y(Yt,[["render",Me],["__scopeId","data-v-81dfe030"]]);const Ne={name:"TrainingPage",components:{NamedEntities:Wt,RetrainEntities:Be},data(){return{projects:[],proj_create_modal_window:!1,extract_proj:{options:{}},doc_extensions:[],doc_status:[],retrain_proj:{options:{}},field_translation:{all:"\u0421\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u0435 \u043A \u0431\u0430\u0437\u0435 \u0434\u0430\u043D\u043D\u044B\u0445",extract_entity_proj:"\u0418\u0437\u0432\u043B\u0435\u0447\u0435\u043D\u0438\u0435 \u0438\u043C\u0435\u043D\u043D\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u0441\u0443\u0449\u043D\u043E\u0441\u0442\u0435\u0439"}}},methods:{toggle_panel(s){let e=s.target.closest(".panel").querySelector(".panel-ico"),l=s.target.closest(".panel").querySelector(".panel-content");e.classList.contains("rotate-180")?(e.classList.remove("rotate-180"),l.classList.add("hide"),setTimeout(()=>{l.classList.remove("visible")},100)):(l.classList.remove("hide"),e.classList.add("rotate-180"),l.classList.add("visible"))},addProject(s){d.addProject({proj_type:s}).then(e=>{this.projects.push(e.data)})},getInitData(){d.getProjects().then(s=>{this.projects=s.data})},deleteProj(s){d.removeProj(this.projects[s].id).then(e=>{this.projects.splice(s,1)})}},mounted(){this.getInitData(),document.body.addEventListener("click",()=>{this.proj_create_modal_window=!1},!0)},computed:{}},C=s=>(k("data-v-744c5856"),s=s(),S(),s),Te={class:"projects-list"},Fe=C(()=>t("div",{class:"custom-wrap"},null,-1)),qe=C(()=>t("p",null,"\u0421\u043F\u0438\u0441\u043E\u043A \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0447\u0438\u043A\u043E\u0432",-1)),ze=C(()=>t("div",{class:"custom-wrap"},null,-1)),He=C(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-file-plus",viewBox:"0 0 16 16"},[t("path",{d:"M8.5 6a.5.5 0 0 0-1 0v1.5H6a.5.5 0 0 0 0 1h1.5V10a.5.5 0 0 0 1 0V8.5H10a.5.5 0 0 0 0-1H8.5V6z"}),t("path",{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"})],-1)),Ke=[He],Oe={class:"popup-form"},Ze={id:"project-list-ul"};function Ge(s,e,l,w,o,r){const h=j("NamedEntities"),n=j("RetrainEntities");return c(),m(P,null,[t("div",Te,[Fe,qe,ze,t("button",{type:"button",onClick:e[0]||(e[0]=v(i=>o.proj_create_modal_window=!o.proj_create_modal_window,["stop","prevent"]))},Ke),E(B,{appear:"","enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutLeft"},{default:M(()=>[u(t("div",Oe,[t("ul",null,[t("li",{onClick:e[1]||(e[1]=i=>r.addProject("extract_entity_proj"))},"\u0418\u0437\u0432\u043B\u0435\u0447\u0435\u043D\u0438\u0435 \u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u0441\u0443\u0449\u0435\u043D\u043E\u0441\u0442\u0435\u0439"),t("li",{onClick:e[2]||(e[2]=i=>r.addProject("retrain_proj"))},"\u041F\u0435\u0440\u0435\u043E\u0431\u0443\u0447\u0435\u043D\u0438\u0435 \u0432\u044B\u0431\u043E\u0440\u043A\u0438")])],512),[[N,o.proj_create_modal_window]])]),_:1})]),t("ul",Ze,[(c(!0),m(P,null,$(o.projects,(i,g)=>(c(),m("li",{key:i.id},[i.proj_type==="extract_entity_proj"?(c(),x(h,{key:0,proj_id:i.id,"onRemove:proj":R=>this.deleteProj(g)},null,8,["proj_id","onRemove:proj"])):L("",!0),i.proj_type==="retrain_proj"?(c(),x(n,{key:1,proj_id:i.id,"onRemove:proj":R=>this.deleteProj(g)},null,8,["proj_id","onRemove:proj"])):L("",!0)]))),128))])],64)}var Qe=y(Ne,[["render",Ge],["__scopeId","data-v-744c5856"]]);export{Qe as default};
